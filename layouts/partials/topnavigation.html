
<section class="top-navigation">
  {{ $currentPage := . }}
  <div class="mobile-nav-header">
    <button class="mobile-menu-toggle" aria-label="Abrir menu">
      <span class="hamburger"></span>
      <span class="hamburger"></span>
      <span class="hamburger"></span>
    </button>
    <h2 class="mobile-title">{{ .Title }}</h2>
  </div>
  
  <nav class="mobile-nav" id="mobile-nav">
    <div class="mobile-nav-content">
      <div class="mobile-nav-header">
        <h3 class="mobile-nav-close-title">Menu de Navegação</h3>
        <button class="mobile-nav-close" aria-label="Fechar menu">×</button>
      </div>
      
      <!-- Tutorial -->
      <div class="mobile-nav-section">
        <h3 class="mobile-nav-title">{{ with .Site.Params.main.name }}{{.}}{{ end }}</h3>
        <ul class="mobile-nav-list">
          {{ range $.Site.Menus.main }}
          <li>
            <a href="{{ .URL | markdownify}}" 
            {{ if $currentPage.IsMenuCurrent "main" . }} 
            class="active" 
            {{ end }} 
              >{{ .Title }}</a
            >
          </li>
          {{ end }}
        </ul>
      </div>

      <!-- Problemas de Go -->
      <div class="mobile-nav-section">
        <h3 class="mobile-nav-title">{{ with .Site.Params.tsumego.name }}{{.}}{{ end }}</h3>
        <ul class="mobile-nav-list">
          {{ range $.Site.Menus.tsumego }}
          <li>
            <a href="{{ .URL | markdownify}}" 
            {{ if $currentPage.IsMenuCurrent "tsumego" . }} 
            class="active" 
            {{ end }} 
              >{{ .Title }}</a
            >
          </li>
          {{ end }}
        </ul>
      </div>

      <!-- Conceitos Avançados -->
      <div class="mobile-nav-section">
        <h3 class="mobile-nav-title">{{ with .Site.Params.theory.name }}{{.}}{{ end }}</h3>
        <ul class="mobile-nav-list">
          {{ range $.Site.Menus.theory }}
          <li>
            <a href="{{ .URL | markdownify}}" 
            {{ if $currentPage.IsMenuCurrent "theory" . }} 
            class="active" 
            {{ end }} 
              >{{ .Title }}</a
            >
          </li>
          {{ end }}
        </ul>
      </div>

      <!-- Partidas Famosas -->
      <div class="mobile-nav-section">
        <h3 class="mobile-nav-title">{{ with .Site.Params.matches.name }}{{.}}{{ end }}</h3>
        <ul class="mobile-nav-list">
          {{ range $.Site.Menus.matches }}
          <li>
            <a href="{{ .URL | markdownify}}" 
            {{ if $currentPage.IsMenuCurrent "matches" . }} 
            class="active" 
            {{ end }} 
              >{{ .Title }}</a
            >
          </li>
          {{ end }}
        </ul>
      </div>
    </div>
  </nav>
</section>